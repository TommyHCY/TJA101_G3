<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pixel Tribe - 論壇文章列表</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" integrity="sha512-Fo3rlrNjHq3R8U6/S3A7+wP9m/8M+2yF8zN4Fp9J5N6d5qKj5K5f5A7f5D5f5+5G5+5Q5+5g5+5h5+5Q==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <style>
        body {
            background-color: #f0f2f5; /* 類似範例的背景色 */
        }
        /* -- 圖片相關 CSS 規則開始 -- */
        /*
        .navbar-brand img {
            height: 60px; // 根據截圖調整 Logo 高度
        }
        .header-banner {
            background-image: url('https://via.placeholder.com/1500x200?text=Pixel+Tribe+Banner'); // 替換為你的實際 Banner 圖片路徑
            background-size: cover;
            background-position: center;
            height: 200px; // Banner 高度
            margin-bottom: 20px;
        }
        .post-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background-color: #e0e0e0; // 佔位符背景
            margin-right: 15px;
            overflow: hidden; // 確保圖片不超出圓形
        }
        .post-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        .post-content img {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
            margin-top: 15px;
        }
        .comment-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: #e0e0e0;
            margin-right: 10px;
            flex-shrink: 0; // 防止頭像縮小
            overflow: hidden;
        }
        .comment-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        */
        /* -- 圖片相關 CSS 規則結束 -- */

        .sidebar {
            background-color: #ffffff;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,.08);
        }
        .sidebar-item {
            padding: 10px 0;
            cursor: pointer;
            color: #333;
        }
        .sidebar-item.active {
            font-weight: bold;
            color: #0d6efd; /* Bootstrap primary color */
        }
        .forum-post-card {
            background-color: #ffffff;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,.08);
            margin-bottom: 20px;
            padding: 20px;
        }
        .post-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }
        .post-meta small {
            color: #65676b;
        }
        .post-actions {
            border-top: 1px solid #e5e5e5;
            padding-top: 15px;
            margin-top: 15px;
            display: flex;
            justify-content: flex-end; /* 靠右對齊按鈕 */
            gap: 15px; /* 按鈕間距 */
        }
        .comment-section {
            background-color: #ffffff;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,.08);
            padding: 20px;
        }
        .comment-item {
            display: flex;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid #f0f2f5;
        }
        .comment-item:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }
        .comment-body {
            flex-grow: 1;
        }
        .comment-meta {
            font-size: 0.9em;
            color: #65676b;
            margin-bottom: 5px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .comment-content {
            color: #1c1e21;
        }
        .check-icon {
            color: #28a745; /* Bootstrap success color */
            margin-left: 5px;
        }
    </style>
</head>
<body>

<div class="header-banner">
    <div class="container d-flex align-items-center justify-content-center h-100">
        <h1 class="text-white">PIXEL TRIBE</h1>
    </div>
</div>

<div class="container">
    <div class="row">
        <div class="col-md-3">
            <div class="sidebar">
                <div class="sidebar-item active">
                    <i class="fas fa-user-circle me-2"></i> 會員中心
                </div>
                <div class="sidebar-item">
                    <i class="fas fa-comments me-2"></i> 論壇首頁
                </div>
                <div class="sidebar-item">
                    <i class="fas fa-shopping-bag me-2"></i> 商城
                </div>
            </div>
        </div>

        <div class="col-md-9">
            <ul class="nav nav-tabs mb-4">
                <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="#">動作</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">冒險</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">運動</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">推薦</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">模擬</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">角色扮演</a>
                </li>
            </ul>

            <div class="forum-post-card">
                <div class="d-flex justify-content-between align-items-start">
                    <div class="post-header">
                        <div class="post-avatar">
                            <i class="fas fa-user-circle fa-2x me-2 text-secondary"></i> </div>
                        <div class="post-meta">
                            <strong>楓楠</strong><br>
                            <small>20250102060010</small>
                        </div>
                    </div>
                    <div class="d-flex align-items-center">
                        <small class="text-muted me-2">檢舉</small>
                        <i class="fas fa-ellipsis-h text-muted"></i> </div>
                </div>

                <h5 class="mb-3">回鍋玩家的楓之谷快速上手指南與福利整理</h5>
                <div class="post-content mb-3">
                    <p>各位好，我是最近剛回鍋楓之谷的老玩家。發現遊戲內容變了很多，有點不知道從何開始。想在這裡請教一下各位：目前版本有帶哪些回鍋玩家必做的任務？有哪些福利是可以領取的？例如：衝點、裝備、回歸獎勵等等。此外，對於目前的主線劇情和地圖也感到有些陌生，有沒有推薦的回鍋玩家可以優先推關的內容？希望各位大佬可以提供一些建議，讓其能更快融入現在的楓之谷世界！感謝！</p>
                </div>
                <div class="post-actions">
                    <button class="btn btn-sm btn-light"><i class="far fa-comment-alt me-1"></i> 回覆</button>
                    <button class="btn btn-sm btn-light"><i class="far fa-thumbs-up me-1"></i> 讚</button>
                    <button class="btn btn-sm btn-light"><i class="far fa-thumbs-down me-1"></i> 倒讚</button>
                </div>
            </div>

            <div class="comment-section mt-4">
                <h5 class="mb-4">留言</h5>

                <div class="comment-item">
                    <div class="comment-avatar">
                        <i class="fas fa-user-circle fa-lg me-2 text-secondary"></i> </div>
                    <div class="comment-body">
                        <div class="comment-meta">
                            <strong>楓楠</strong>
                            <small>20250102060010 <i class="fas fa-check check-icon"></i> 檢舉</small>
                        </div>
                        <div class="comment-content">
                            這款遊戲的劇情簡直是神作！讓我完全沉浸在故事裡。
                        </div>
                        <div class="post-actions mt-2">
                            <button class="btn btn-sm btn-light"><i class="far fa-comment-alt me-1"></i> 回覆</button>
                            <button class="btn btn-sm btn-light"><i class="far fa-thumbs-up me-1"></i> 讚</button>
                            <button class="btn btn-sm btn-light"><i class="far fa-thumbs-down me-1"></i> 倒讚</button>
                        </div>
                    </div>
                </div>

                <div class="comment-item">
                    <div class="comment-avatar">
                        <i class="fas fa-user-circle fa-lg me-2 text-secondary"></i> </div>
                    <div class="comment-body">
                        <div class="comment-meta">
                            <strong>暖楠</strong>
                            <small>20250102060010 <i class="fas fa-check check-icon"></i> 檢舉</small>
                        </div>
                        <div class="comment-content">
                            歡迎回歸！現在有很多回歸活動，記得去活動介面看看。
                        </div>
                        <div class="post-actions mt-2">
                            <button class="btn btn-sm btn-light"><i class="far fa-comment-alt me-1"></i> 回覆</button>
                            <button class="btn btn-sm btn-light"><i class="far fa-thumbs-up me-1"></i> 讚</button>
                            <button class="btn btn-sm btn-light"><i class="far fa-thumbs-down me-1"></i> 倒讚</button>
                        </div>
                    </div>
                </div>

                <div class="comment-item">
                    <div class="comment-avatar">
                        <i class="fas fa-user-circle fa-lg me-2 text-secondary"></i> </div>
                    <div class="comment-body">
                        <div class="comment-meta">
                            <strong>暖楠</strong>
                            <small>20250102060010 <i class="fas fa-check check-icon"></i> 檢舉</small>
                        </div>
                        <div class="comment-content">
                            操作非常流暢，打擊感十足，玩起來非常過癮。
                        </div>
                        <div class="post-actions mt-2">
                            <button class="btn btn-sm btn-light"><i class="far fa-comment-alt me-1"></i> 回覆</button>
                            <button class="btn btn-sm btn-light"><i class="far fa-thumbs-up me-1"></i> 讚</button>
                            <button class="btn btn-sm btn-light"><i class="far fa-thumbs-down me-1"></i> 倒讚</button>
                        </div>
                    </div>
                </div>

                <div class="comment-item">
                    <div class="comment-avatar">
                        <i class="fas fa-user-circle fa-lg me-2 text-secondary"></i> </div>
                    <div class="comment-body">
                        <div class="comment-meta">
                            <strong>暖楠</strong>
                            <small>20250102060010 <i class="fas fa-check check-icon"></i> 檢舉</small>
                        </div>
                        <div class="comment-content">
                            有什麼問題都可以發問，大家都很樂意幫忙。
                        </div>
                        <div class="post-actions mt-2">
                            <button class="btn btn-sm btn-light"><i class="far fa-comment-alt me-1"></i> 回覆</button>
                            <button class="btn btn-sm btn-light"><i class="far fa-thumbs-up me-1"></i> 讚</button>
                            <button class="btn btn-sm btn-light"><i class="far fa-thumbs-down me-1"></i> 倒讚</button>
                        </div>
                    </div>
                </div>

            </div> </div> </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const postsListArea = document.getElementById('posts-list-area');
        const API_BASE_URL = 'http://localhost:8080/api/forumposts/allForumPost'; // 後端 API 的 URL

        // 獲取論壇文章並顯示的函數
        function fetchAndDisplayForumPosts() {
            fetch(API_BASE_URL) // 發送 GET 請求到後端 API
                .then(response => {
                    if (!response.ok) {
                        // 如果 HTTP 狀態碼不是 2xx (成功)，則拋出錯誤
                        throw new Error(`HTTP error! Status: ${response.status}`);
                    }
                    return response.json(); // 解析 JSON 響應
                })
                .then(posts => {
                    postsListArea.innerHTML = ''; // 清空現有內容

                    if (posts.length === 0) {
                        postsListArea.innerHTML = '<p class="text-center text-muted">目前沒有論壇文章。</p>';
                        return;
                    }

                    // 遍歷每篇文章資料，創建並添加到頁面
                    posts.forEach(post => {
                        const postCard = `
                                <div class="forum-post-card">
                                    <div class="d-flex justify-content-between align-items-start">
                                        <div class="post-header">
                                            <div class="post-avatar">
                                                <i class="fas fa-user-circle fa-2x me-2 text-secondary"></i>
                                            </div>
                                            <div class="post-meta">
                                                <strong>${post.authorName || '匿名作者'}</strong><br> <small>${post.postTime || '未知時間'}</small> </div>
                                        </div>
                                        <div class="d-flex align-items-center">
                                            <small class="text-muted me-2">檢舉</small>
                                            <i class="fas fa-ellipsis-h text-muted"></i>
                                        </div>
                                    </div>

                                    <h5 class="mb-3">${post.title || '無標題'}</h5> <div class="post-content mb-3">
                                        <p>${post.content || '無內容'}</p> </div>
                                    <div class="post-actions">
                                        <button class="btn btn-sm btn-light"><i class="far fa-comment-alt me-1"></i> 回覆</button>
                                        <button class="btn btn-sm btn-light"><i class="far fa-thumbs-up me-1"></i> 讚</button>
                                        <button class="btn btn-sm btn-light"><i class="far fa-thumbs-down me-1"></i> 倒讚</button>
                                    </div>
                                </div>
                            `;
                        postsListArea.insertAdjacentHTML('beforeend', postCard);
                    });
                })
                .catch(error => {
                    console.error('獲取論壇文章時發生錯誤:', error);
                    postsListArea.innerHTML = '<p class="text-center text-danger">載入文章失敗，請稍後再試。</p>';
                });
        }

        // 頁面載入完成時立即呼叫函數
        fetchAndDisplayForumPosts();
    });
</script>
</body>
</html>