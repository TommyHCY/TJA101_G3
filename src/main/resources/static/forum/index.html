<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>像素部落 - 討論區</title>
    <meta name="description" content="Forum & Community Discussions HTML Template">
    <meta name="keywords" content="bootstrap 5, forum, community, support, social, q&a, mobile, html">
    <meta name="robots" content="all,follow">

    <script>
        //Check local storage
        let localS = localStorage.getItem('theme')
        themeToSet = localS

        // If local storage is not set, we check the OS preference
        if (!localS) {
            themeToSet = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light'
        }

        //Set the correct theme
        document.documentElement.setAttribute('data-theme', themeToSet)
    </script>


    <link rel="stylesheet" href="../assets/vendors/bootstrap/bootstrap.min.css">
    <link rel="stylesheet" href="../assets/vendors/bootstrap-icons/bootstrap-icons.css">
    <link rel="stylesheet" href="../assets/vendors/simplebar/simplebar.min.css">
    <link rel="stylesheet" href="../assets/vendors/aos/aos.css">
    <link rel="stylesheet" href="../assets/css/style.css">
    <link rel="stylesheet" href="../assets/css/responsive.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Karla&display=swap" rel="stylesheet">


</head>

<body>
<div class="switcher switcher-show" id="theme-switcher">
    <i id="switcher-icon" class="bi bi-moon"></i>
</div>

<a href="#" id="back-to-top"></a>

<div class="vine-wrapper">

    <div id="header-placeholder"></div>

    <section class="vine-hero-2 bg-img-1">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="hero-content" data-aos="fade-down" data-aos-easing="linear">
                        <h1>像素部落(Pixel Tribe) </h1>
                        <p>遊戲愛好者的聚集地</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="vine-main">
        <div class="container">
            <div class="row">
                <div class="col-lg-3 pe-lg-3 border-end">
                    <div class="position-sticky" style="top: 100px;">

                        <ul class="nav nav-tabs nav-fill mb-3" id="forum-view-tabs" role="tablist">
                            <li class="nav-item" role="presentation">
                                <button class="nav-link active" id="hot-tab" data-bs-toggle="tab"
                                        data-bs-target="#hot-tab-pane" type="button" role="tab"
                                        aria-controls="hot-tab-pane" aria-selected="true">熱門排行
                                </button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="category-tab" data-bs-toggle="tab"
                                        data-bs-target="#category-tab-pane" type="button" role="tab"
                                        aria-controls="category-tab-pane" aria-selected="false">按類別瀏覽
                                </button>
                            </li>
                        </ul>

                        <div id="category-select-container" class="mb-3" style="display: none;">
                        </div>

                        <div id="forum-list-container">
                        </div>

                        <div id="show-more-container" class="mt-3"></div>
                    </div>
                </div>

                <div class="col-lg-9 ps-lg-5">
                    <div id="dynamic-content-container">
                        <div class="original-content text-center p-5 bg-light rounded">
                            <i class="bi bi-arrow-left-circle-fill fs-1 text-muted"></i>
                            <h4 class="mt-3">請從左側選擇一個討論區</h4>
                            <p class="text-muted">點擊後，文章列表將會顯示在此處。</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <div id="footer-placeholder"></div>

</div>

<script src="../assets/vendors/jquery/jquery.min.js"></script>
<script src="../assets/vendors/bootstrap/bootstrap.bundle.js"></script>
<script src="../assets/vendors/popper/popper.min.js"></script>
<script src="../assets/vendors/simplebar/simplebar.min.js"></script>
<script src="../assets/vendors/aos/aos.js"></script>
<script src="../assets/js/main.js"></script>
<script src="../assets/js/global-loader.js"></script>
<script src="../front-end/forumsys/forumListManager.js"></script>
<script src="../front-end/forumsys/allForum.js"></script>
<script>
    // 當頁面載入後，自動執行顯示討論區列表的邏輯
    document.addEventListener('DOMContentLoaded', function () {
        // 隱藏原始內容
        const originalContent = document.querySelector('.original-content');
        if (originalContent) {
            originalContent.style.display = 'none';
        }

        // 顯示動態容器
        const container = document.getElementById('dynamic-content-container');
        if (container) {
            container.style.display = 'block';
        }

        // 直接呼叫主函式
        if (typeof showForumListView === 'function') {
            showForumListView();
        } else {
            console.error('showForumListView 函式未定義，請檢查 allForum.js 的路徑是否正確，以及檔案內容是否有誤。');
        }
    });
</script>
</body>
</html>